---
import "@picocss/pico";

import "../styles/colors.css";
import "../styles/custom.css";
import "../styles/global.css";

import CookieConsent from "./CookieConsent.astro";
import Footer from "./Footer.astro";
import Head from "./Head.astro";
import Header from "./Header.astro";

interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
---

<!doctype html>
<html
  lang="es"
  data-theme="dark">
  <Head
    title={title}
    description={description}
  />
  <body>
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
    <CookieConsent />
    <script>
      const getTheme = () => document.documentElement.getAttribute("data-theme");
      const setTheme = (theme) => document.documentElement.setAttribute("data-theme", theme);

      document.addEventListener("theme-toggle", () => {
        const currentTheme = getTheme();
        setTheme(currentTheme === "dark" ? "light" : "dark");
      });
    </script>
    
  </body>
</html>
